<!doctype html>
<html>
<head>
    <meta charset="utf-8"/>
    <title>Routes UI</title>
    <style>
        /* ğŸŒ´ Ø®Ù„ÙÙŠØ© ØµÙŠÙÙŠØ© Ù…ØªØ¯Ø±Ø¬Ø© */
        body {
            font-family: 'Segoe UI', sans-serif;
            margin: 0;
            background: linear-gradient(135deg, #ffecd2, #fcb69f);
            color: #333;
            min-height: 100vh;
            display: block; /* Ù†Ø³Ù…Ø­ Ø¨Ø§Ù„scroll */
            position: relative;
            overflow-x: hidden; /* Ù…Ø§ Ù†Ø®Ù„ÙŠ Ø§Ù„ØµÙØ­Ø© ØªØªØ­Ø±Ùƒ ÙŠÙ…ÙŠÙ†-ÙŠØ³Ø§Ø± */
        }

        /* â˜€ï¸ Ø§Ù„Ø´Ù…Ø³ Ø§Ù„Ù…ØªÙˆÙ‡Ø¬Ø© */
        body::after {
            content: "";
            position: absolute;
            top: 20%;
            left: 50%;
            width: 400px;
            height: 400px;
            background: radial-gradient(circle, rgba(255,223,0,0.6) 0%, rgba(255,152,0,0.2) 70%, transparent 100%);
            border-radius: 50%;
            transform: translate(-50%, -50%);
            animation: sunGlow 10s ease-in-out infinite alternate;
            z-index: 0;
        }
        @keyframes sunGlow {
            from { transform: translate(-50%, -50%) scale(1); opacity: 0.6; }
            to { transform: translate(-50%, -50%) scale(1.2); opacity: 0.9; }
        }

        /* ğŸš— Ø³ÙŠØ§Ø±Ø§Øª Ø´ÙØ§ÙØ© ØªØªØ­Ø±Ùƒ */
        .cars {
            content: "";
            position: absolute;
            top: 0;
            left: -200px;
            width: 200%;
            height: 100%;
            background: url('https://www.transparenttextures.com/patterns/asfalt-dark.png') repeat-x;
            background-size: 250px auto;
            opacity: 0.15;
            animation: moveCars 60s linear infinite;
            z-index: 0;
        }
        @keyframes moveCars {
            from { transform: translateX(0); }
            to { transform: translateX(-50%); }
        }

        /* ğŸŒŠ Ù…ÙˆØ¬ Ù…ØªØ­Ø±Ùƒ */
        .wave {
            position: absolute;
            bottom: 0;
            left: 0;
            width: 200%;
            height: 200px;
            background: url('https://i.ibb.co/0MZtJ9N/wave.png') repeat-x;
            background-size: 800px 200px;
            animation: waveMove 20s linear infinite;
            opacity: 0.4;
            z-index: 0;
        }
        @keyframes waveMove {
            from { transform: translateX(0); }
            to { transform: translateX(-50%); }
        }

        /* âœ¨ Ø§Ù„Ù…Ø­ØªÙˆÙ‰ ÙÙˆÙ‚ Ø§Ù„Ø®Ù„ÙÙŠØ© */
        h1, h2, table, form {
            position: relative;
            z-index: 1;
        }

        /* ğŸ”¥ Ø¹Ù†ÙˆØ§Ù† Ø±Ø¦ÙŠØ³ÙŠ */
        h1 {
            color: #ff5722;
            text-align: center;
            margin-top: 40px;
            font-size: 2.5em;
            text-shadow: 0 0 8px rgba(255, 87, 34, 0.7);
            transition: text-shadow 0.3s ease;
        }
        h1:hover {
            text-shadow: 0 0 20px rgba(255, 152, 0, 1), 0 0 30px rgba(255, 87, 34, 0.8);
        }

        /* âœ¨ Ø¹Ù†ÙˆØ§Ù† ÙØ±Ø¹ÙŠ */
        h2 {
            color: #03a9f4;
            margin-top: 20px;
            text-shadow: 0 0 6px rgba(3, 169, 244, 0.7);
            transition: text-shadow 0.3s ease;
        }
        h2:hover {
            text-shadow: 0 0 20px rgba(3, 169, 244, 1), 0 0 30px rgba(0, 188, 212, 0.8);
        }

        /* ğŸ“Š Ø§Ù„Ø¬Ø¯ÙˆÙ„ */
        table {
            width: 90%;
            border-collapse: collapse;
            margin: 20px auto;
            background: rgba(255,255,255,0.9);
            border-radius: 12px;
            overflow: hidden;
            box-shadow: 0 4px 15px rgba(0,0,0,0.2);
        }
        th, td {
            padding: 14px;
            text-align: left;
        }
        th {
            background: #ff9800;
            color: white;
            font-size: 1.1em;
        }
        tr:nth-child(even) { background: #fff8e1; }
        tr:hover { background: #ffe0b2; }

        /* âœ¨ Ø§Ù„Ø£Ø²Ø±Ø§Ø± */
        .btn {
            padding: 8px 14px;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            background: #03a9f4;
            color: white;
            font-weight: bold;
            transition: all 0.3s ease;
            box-shadow: 0 0 0px rgba(0,0,0,0);
        }
        .btn:hover {
            background: #0288d1;
            box-shadow: 0 0 15px 4px rgba(3, 169, 244, 0.7);
        }
        .btn-danger { background: #e91e63; }
        .btn-danger:hover {
            background: #c2185b;
            box-shadow: 0 0 15px 4px rgba(233, 30, 99, 0.7);
        }

        /* ğŸ“ Ø§Ù„ÙÙˆØ±Ù… */
        form {
            margin: 30px auto;
            padding: 20px;
            background: rgba(255,255,255,0.95);
            border-radius: 12px;
            box-shadow: 0 4px 15px rgba(0,0,0,0.2);
            width: 300px;
            display: flex;
            flex-direction: column;
            gap: 12px;
        }

        /* âœ¨ Ø§Ù„Ø­Ù‚ÙˆÙ„ */
        input {
            padding: 10px;
            border: 1px solid #ccc;
            border-radius: 6px;
            font-size: 1em;
            transition: all 0.3s ease;
            outline: none;
        }
        input:hover {
            border-color: #03a9f4;
            box-shadow: 0 0 8px rgba(3, 169, 244, 0.6);
        }
        input:focus {
            border-color: #ff9800;
            box-shadow: 0 0 10px rgba(255, 152, 0, 0.8);
        }
    </style>
</head>
<body>
    <h1>ğŸš— Summer Routes</h1>

    <table>
        <tr>
            <th>Source</th>
            <th>Destination</th>
            <th>Estimate</th>
            <th>Action</th>
        </tr>
        {% for r in routes %}
        <tr>
            <td>{{ r.source_name }}<br><small>{{ r.source_address }}</small></td>
            <td>{{ r.destination_name }}<br><small>{{ r.destination_address }}</small></td>
            <td>
                {% if r.current_estimate %}
                    {{ r.current_estimate }} â€¢ {{ r.current_distance }}<br>
                    <small>Updated: {{ r.updated_at }}</small>
                {% else %}
                    âŒ Error: {{ r.last_error }}
                {% endif %}
            </td>
            <td><a class="btn btn-danger" href="/remove?id={{ r.id }}">Remove</a></td>
        </tr>
        {% endfor %}
    </table>

    <h2>â• Add New Route</h2>
    <form action="/add" method="post">
        <input type="text" name="source_name" placeholder="Source Name" required>
        <input type="text" name="source_address" placeholder="Source Address" required>
        <input type="text" name="destination_name" placeholder="Destination Name" required>
        <input type="text" name="destination_address" placeholder="Destination Address" required>
        <button class="btn" type="submit">Add Route</button>
    </form>

    <!-- ğŸš— Ø³ÙŠØ§Ø±Ø§Øª + ğŸŒŠ Ù…ÙˆØ¬ -->
    <div class="cars"></div>
    <div class="wave"></div>

    <script>
        // ØªØ­Ø¯ÙŠØ« Ø§Ù„ØµÙØ­Ø© ÙƒÙ„ 5 Ø¯Ù‚Ø§Ø¦Ù‚
        setInterval(() => { window.location.reload(); }, 300000);
    </script>
</body>
</html>